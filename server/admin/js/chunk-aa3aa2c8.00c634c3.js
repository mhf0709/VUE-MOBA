(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa3aa2c8"],{"1dde":function(t,e,r){var n=r("d039"),a=r("b622"),i=r("60ae"),s=a("species");t.exports=function(t){return i>=51||!n((function(){var e=[],r=e.constructor={};return r[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"5e18":function(t,e,r){"use strict";var n=r("ca46"),a=r.n(n);a.a},"5fc7":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[t._v(t._s(t.text))])],1)},a=[],i={name:"Breadcrumb",props:{text:{type:String,default:""}}},s=i,o=r("2877"),c=Object(o["a"])(s,n,a,!1,null,"32c20e90",null);e["a"]=c.exports},"65f0":function(t,e,r){var n=r("861d"),a=r("e8b5"),i=r("b622"),s=i("species");t.exports=function(t,e){var r;return a(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[s],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},8418:function(t,e,r){"use strict";var n=r("c04e"),a=r("9bf2"),i=r("5c6c");t.exports=function(t,e,r){var s=n(e);s in t?a.f(t,s,i(0,r)):t[s]=r}},a434:function(t,e,r){"use strict";var n=r("23e7"),a=r("23cb"),i=r("a691"),s=r("50c4"),o=r("7b0b"),c=r("65f0"),l=r("8418"),u=r("1dde"),d=Math.max,f=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var r,n,u,b,h,g,v=o(this),x=s(v.length),w=a(t,x),k=arguments.length;if(0===k?r=n=0:1===k?(r=0,n=x-w):(r=k-2,n=f(d(i(e),0),x-w)),x+r-n>p)throw TypeError(m);for(u=c(v,n),b=0;b<n;b++)h=w+b,h in v&&l(u,b,v[h]);if(u.length=n,r<n){for(b=w;b<x-n;b++)h=b+n,g=b+r,h in v?v[g]=v[h]:delete v[g];for(b=x;b>x-n+r;b--)delete v[b-1]}else if(r>n)for(b=x-n;b>w;b--)h=b+n-1,g=b+r-1,h in v?v[g]=v[h]:delete v[g];for(b=0;b<r;b++)v[b+w]=arguments[b+2];return v.length=x-n+r,u}})},aff8:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n={computed:{action:function(){return Object({NODE_ENV:"production",BASE_URL:"/back/"}).VUE_APP_API_URL_UPLOAD||"/admin/api/upload/"},token:function(){var t=sessionStorage.getItem("token");return t?{Authorization:t}:{}}},methods:{uploadErrHandler:function(t){401===t.status&&(this.$message.error("请先登录"),router.push("/login"))}}}},ca46:function(t,e,r){},e8b5:function(t,e,r){var n=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},ed9e:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Breadcrumb",{attrs:{text:"广告位列表"}}),r("el-card",[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addAd}},[t._v("添加广告位")]),r("el-table",{attrs:{data:t.adList,border:"",stripe:""}},[r("el-table-column",{attrs:{label:"广告位名称",prop:"name"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return t.edit(e.row)}}},[t._v("编辑")]),r("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return t._delete(e.row)}}},[t._v("删除")])]}}])})],1)],1),r("el-dialog",{staticClass:"add-ad-dialog",attrs:{title:this.model._id?"编辑广告位":"添加广告位",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e},closed:t.dialogClose}},[r("el-form",{attrs:{"label-width":"86px"}},[r("el-form-item",{attrs:{label:"广告位名称"}},[r("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),r("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"itemssmall"},on:{click:t.addAds}},[t._v("添加广告位信息")]),r("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{gutter:20,type:"flex"}},t._l(t.model.items,(function(e,n){return r("el-col",{key:n,staticClass:"skill-item",attrs:{span:12}},[r("el-card",[r("el-tag",[t._v("广告位"+t._s(n+1))]),r("el-form-item",{attrs:{label:"图片:","label-width":"80px"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.action+"ad",headers:t.token,"show-file-list":!1,"on-success":function(r){return t.$set(e,"img",r.url)},"on-error":t.uploadErrHandler}},[e.img?r("img",{staticClass:"ad-img",attrs:{src:e.img}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"跳转链接:","label-width":"80px"}},[r("el-input",{model:{value:e.url,callback:function(r){t.$set(e,"url",r)},expression:"item.url"}})],1),r("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.deleteAdInfo(n)}}},[t._v("删除")])],1)],1)})),1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("确 定")])],1)],1)],1)},a=[],i=(r("a434"),r("96cf"),r("1da1")),s=r("5fc7"),o=r("1bab");function c(t){return Object(o["a"])({url:"/ads",method:"post",data:t})}function l(t){return Object(o["a"])({url:"/ads/".concat(t)})}function u(t,e){return Object(o["a"])({url:"/ads/".concat(t),method:"put",data:e})}function d(t){return Object(o["a"])({url:"/ads/".concat(t),method:"delete"})}function f(){return Object(o["a"])({url:"/ads"})}var p=r("aff8"),m={name:"AdList",mixins:[p["a"]],data:function(){return{adList:[],dialogVisible:!1,model:{items:[]},id:""}},components:{Breadcrumb:s["a"]},methods:{getAdList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:e=t.sent,this.adList=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),edit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.id=e._id,t.next=3,l(this.id);case 3:r=t.sent,this.model=r.data,this.dialogVisible=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),_delete:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return t.next=5,d(e._id);case 5:if(r=t.sent,r){t.next=8;break}return t.abrupt("return");case 8:this.$message.success("删除成功"),this.getAdList(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),this.$message.info("已取消删除");case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(e){return t.apply(this,arguments)}return e}(),addAd:function(){this.dialogVisible=!0},addAds:function(){this.model.items.push({})},ok:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.model._id){t.next=11;break}return t.next=3,c(this.model);case 3:if(e=t.sent,e){t.next=6;break}return t.abrupt("return");case 6:this.$message.success("创建广告位成功"),this.getAdList(),this.dialogVisible=!1,t.next=19;break;case 11:return t.next=13,u(this.id,this.model);case 13:if(r=t.sent,r){t.next=16;break}return t.abrupt("return");case 16:this.$message.success("编辑成功"),this.getAdList(),this.dialogVisible=!1;case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),dialogClose:function(){this.model={items:[]}},deleteAdInfo:function(t){this.model.items.splice(t,1)}},created:function(){this.getAdList()}},b=m,h=(r("5e18"),r("2877")),g=Object(h["a"])(b,n,a,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-aa3aa2c8.00c634c3.js.map